module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},73336,a=>{"use strict";var b=a.i(87924);let c={1:"gap-[var(--space-1)]",2:"gap-[var(--space-2)]",3:"gap-[var(--space-3)]",4:"gap-[var(--space-4)]",5:"gap-[var(--space-5)]",6:"gap-[var(--space-6)]",7:"gap-[var(--space-7)]",8:"gap-[var(--space-8)]"},d={start:"items-start",center:"items-center",end:"items-end",stretch:"items-stretch"},e={start:"justify-start",center:"justify-center",end:"justify-end",between:"justify-between"};function f({children:a,gap:f=4,align:g="stretch",justify:h="start",className:i="",as:j="div"}){return(0,b.jsx)(j,{className:`flex flex-col ${c[f]} ${d[g]} ${e[h]} ${i}`,children:a})}a.s(["Stack",()=>f])},63024,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(48441),e=a.i(89516),f=a.i(90669),g=a.i(70106);let h=(0,g.default)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var i=a.i(23102);let j=(0,g.default)("droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),k=(0,g.default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var l=a.i(73336);function m(){let{t:a}=(0,e.useSettings)(),[g,m]=(0,c.useState)(null),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!0),r=async()=>{try{let a=await fetch("/api/auth/me");if(a.ok){let b=await a.json();m(b.user)}let b=await fetch("/api/dashboard/devices?limit=100");if(b.ok){let a=await b.json();o(a.data)}}catch(a){console.error("Failed to fetch sensors:",a)}finally{q(!1)}};return((0,c.useEffect)(()=>{r();let a=setInterval(r,5e3);return()=>clearInterval(a)},[]),p&&!g)?(0,b.jsx)("div",{className:"min-h-screen bg-[var(--bg-body)]"}):(0,b.jsx)(d.AppShell,{user:g,children:(0,b.jsxs)(l.Stack,{gap:8,className:"pb-32",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-2 mb-4",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-[var(--soft-text-main)] flex items-center gap-3",children:[(0,b.jsx)(f.Activity,{className:"text-[var(--soft-primary)]"}),a("sensorState")]}),(0,b.jsx)("p",{className:"text-[var(--soft-text-sub)]",children:"Real-time telemetry and connectivity status."})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(c=>{let d=c.lastSeenAt?new Date(c.lastSeenAt).getTime():0,e=(Date.now()-d)/6e4<5;return(0,b.jsxs)("div",{className:`bg-white rounded-[24px] p-6 shadow-sm transition-all hover:shadow-md border border-transparent ${e?"hover:border-emerald-200":"hover:border-red-100"}`,children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-[16px] flex items-center justify-center ${e?"bg-emerald-50 text-emerald-600":"bg-slate-50 text-slate-400"}`,children:(0,b.jsx)(h,{size:24,className:e?"animate-pulse":""})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-bold text-[var(--soft-text-main)] font-mono",children:c.deviceId}),(0,b.jsx)("span",{className:`text-[10px] font-bold uppercase px-2 py-0.5 rounded-full ${e?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:e?a("online"):a("offline")})]})]}),e&&(0,b.jsxs)("span",{className:"flex h-3 w-3",children:[(0,b.jsx)("span",{className:"animate-ping absolute inline-flex h-3 w-3 rounded-full bg-emerald-400 opacity-75"}),(0,b.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-emerald-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"bg-[var(--soft-bg-inner)] rounded-[16px] p-4 flex flex-col items-center justify-center gap-2",children:[(0,b.jsx)(i.Thermometer,{size:18,className:"text-[var(--soft-text-sub)]"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-[var(--soft-text-main)]",children:[c.lastTempValue?.toFixed(1)||"--","Â°C"]})]}),(0,b.jsxs)("div",{className:"bg-[var(--soft-bg-inner)] rounded-[16px] p-4 flex flex-col items-center justify-center gap-2",children:[(0,b.jsx)(j,{size:18,className:"text-[var(--soft-text-sub)]"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-[var(--soft-text-main)]",children:[c.lastHumidityValue?.toFixed(0)||"--","%"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-[var(--soft-text-sub)] font-medium bg-[var(--soft-bg-inner)] px-4 py-3 rounded-[12px]",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k,{size:14}),(0,b.jsx)("span",{children:"Last seen:"})]}),(0,b.jsx)("span",{suppressHydrationWarning:!0,children:c.lastSeenAt?new Date(c.lastSeenAt).toLocaleTimeString():"Never"})]})]},c.id)})})]})})}a.s(["default",()=>m],63024)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__aa0d19c4._.js.map